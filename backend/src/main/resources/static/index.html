<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Spring Boot App</title>
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
<header>
    <h1>Welcome to My Spring Boot App!</h1>
</header>
<main>
    <p>This is a simple web application using Spring Boot.</p>
    <button id="clickMeButton">Click me!</button>
    <p id="userId">User ID will appear here.</p> <!-- 사용자 ID를 표시할 영역 -->
</main>
<footer>
    <p>&copy; 2024 My Spring Boot App</p>
</footer>
<script src="/scripts/main.js"></script>
<script>
    // DOM이 로드된 후 실행되는 함수
    document.addEventListener('DOMContentLoaded', function() {
        // 로컬 스토리지에서 액세스 토큰을 가져오기
        const accessToken = localStorage.getItem('accessToken');

        if (accessToken) {
            // 액세스 토큰에서 사용자 ID 추출
            const tokenPayload = JSON.parse(atob(accessToken.split('.')[1]));
            const userId = tokenPayload.userId;

            // 사용자 ID를 화면에 표시
            document.getElementById('userId').textContent = `User ID: ${userId}`;
        } else {
            document.getElementById('userId').textContent = 'No access token found.';
        }
    });
</script>
</body>
</html>
